\documentclass{book}

\usepackage[margin=1.3in]{geometry}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{epigraph}
\usepackage{titlesec}
\usepackage{color}
\usepackage{longtable}
\usepackage[toc,page]{appendix}
\usepackage{paralist}
\usepackage{cleveref}
\usepackage{transparent}
\usepackage{multirow}
\usepackage[many]{tcolorbox}

\usepackage{tikz}
\usetikzlibrary{positioning}

\definecolor{defgreen}{RGB}{95,174,87}
\definecolor{egblue}{RGB}{35, 104, 99}
\definecolor{thred}{RGB}{167, 56, 62}

\newtcolorbox{defbox}[1][]{
    width=0.9\textwidth,
    arc=0mm,
    colback=defgreen!10,
    colframe=defgreen!0
}
\newtcolorbox{thmbox}[1][]{
    width=0.9\textwidth,
    arc=0mm,
    colback=thred!10,
    colframe=thred!0
}
\newtcolorbox{egbox}[1][]{
    width=0.9\textwidth,
    arc=0mm,
    colback=egblue!10,
    colframe=egblue!0
}

\newcommand{\RR}{\mathbb{R}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\CC}{\mathbb{C}}
\newcommand{\NN}{\mathbb{N}}
\newcommand{\suchthat}{\text{ s.t. }}
\newcommand{\lcm}{\text{lcm}}
\newcommand{\sgn}{\text{sgn}}

\newcommand{\normal}{\triangleleft}
\newcommand{\fgroup}[2]{{\raisebox{.2em}{$#1$}\left/\raisebox{-.2em}{$#2$}\right.}}

\DeclareRobustCommand\iff{\Leftrightarrow}
\DeclareRobustCommand\implies{\Rightarrow}

\newcommand{\deft}[1]{\color{defgreen} \textbf{#1}}
\newcommand{\egft}[1]{\color{egblue} \textbf{#1}}
\newcommand{\thmft}[1]{\color{thred} \textbf{#1}}



\newcounter{definition}[section]
\newenvironment{definition}[1]
{
    \refstepcounter{definition}
    \begin{center}
    \begin{defbox}
    \textbf{\deft{\underline{Definition \thesection.\thedefinition} #1}}\\
}
{
    \end{defbox}
    \end{center}
}

\newcounter{example}[section]
\newenvironment{example}[1]
{
    \refstepcounter{example}
    \begin{center}
    \begin{egbox}
    \textbf{\egft{\underline{Example \thesection.\theexample} #1}}\\
}
{
    \end{egbox}
    \end{center}
}

\newcounter{theorem}[section]
\newenvironment{theorem}[1]
{
    \refstepcounter{theorem}
    \begin{center}
    \begin{thmbox}
    \textbf{\thmft{\underline{Theorem \thesection.\thetheorem} #1}}\\
}
{
    \end{thmbox}
    \end{center}
}

\newenvironment{corollary}
{
    \begin{center}
    \begin{thmbox}
    \textbf{\thmft{\underline{Corollary to \thesection.\thetheorem}}}
}
{
    \end{thmbox}
    \end{center}
}

\newenvironment{proof}
{
    \begin{quote}
    \textit{\textbf{Proof: }}
}
{
\noindent\\ \hspace*{\fill}$\blacksquare$
\end{quote}
}

\title{Undergraduate Mathematics}
\date{}
\author{Steven Rosendahl}

\begin{document}
\maketitle

\tableofcontents{}

\part{Algebra}

\input{./chaps/sets_logic/sets}
\input{./chaps/num_theory/nt}
\input{./chaps/g_r_f/groups}
\input{./chaps/g_r_f/rings_fields}

\part{Calculus}
\input{./chaps/calc/real_an}
\input{./chaps/calc/multivar}
\input{./chaps/calc/cmp_an}
\input{./chaps/calc/ode}
\input{./chaps/calc/pde}

\part{Statistics and Probability}
\input{./chaps/snp/prob}
\input{./chaps/graph_theory/graph_theory}
\input{./chaps/snp/stats}

\part{Case Studies}
\input{./chaps/cases/linear_algebra}
\input{./chaps/cases/p_adics}

\input{./chaps/refs/appendix}
\end{document}
